flowchart LR
  %% Sources
  OLTP[(OLTP<br>Transactions)]
  NO_SQL[(NoSQL<br>Clickstream / Logs / Features)]
  DATALAKE[(Data Lake<br>Parquet)]
  KAFKA[(Kafka<br>Event Bus)]

  %% Feature Store
  OFFLINE_FS[(Feature Store - Offline (S3/Parquet))]
  ONLINE_FS[(Feature Store - Online (Redis/DynamoDB))]

  %% ML
  TRAIN[(Training Cluster<br>Databricks/Spark/SageMaker/Vertex)]
  MODEL_REG[(Model Registry<br>MLflow/DVC)]
  SERVE[(Model Serving<br>Triton/KFServing/gRPC API)]
  SCORER[(Realtime Scorer & Rules Engine)]

  %% Observability
  MON[(Monitoring & Drift Detection)]
  METRICS[(Prometheus/Grafana)]
  LOGS[(Logging / Audit)]

  %% Flows
  OLTP --> CDC[Debezium CDC] --> KAFKA
  KAFKA --> OFFLINE_FS
  NO_SQL --> OFFLINE_FS
  OFFLINE_FS --> TRAIN
  TRAIN --> MODEL_REG
  MODEL_REG --> SERVE
  SERVE --> SCORER
  SCORER --> NO_SQL
  ONLINE_FS --> SERVE
  OFFLINE_FS --> ONLINE_FS
  MON --> METRICS
  SERVE --> LOGS
